@tailwind base;
@tailwind components;
@tailwind utilities;

/**
 * UTILITY CLASSES
 * Custom text wrapping utility that balances text across multiple lines
 * Improves readability by distributing text evenly instead of leaving first line too long
 */
@layer utilities {
  .text-balance {
    text-wrap: balance;
  }

  /**
   * WINDOWS 11 MICA BLUR EFFECT
   * Applies the signature Mica translucent backdrop blur effect used throughout Windows 11
   * Simulates frosted glass with subtle blur for depth perception
   * Applied to: cards, modals, sidebars, floating elements
   */
  .mica-blur {
    @apply backdrop-blur-md;
  }

  /**
   * WINDOWS 11 FLUENT SHADOW
   * Creates the subtle, directional drop shadow used in Windows 11
   * Maintains visual hierarchy without heavy shadows
   * Used for: cards, elevated surfaces, floating UI elements
   */
  .fluent-shadow {
    @apply shadow-sm;
  }

  /**
   * WINDOWS 11 SUBTLE BORDER
   * Thin, barely-visible border that defines card edges in Windows 11
   * Provides separation without harsh visual break
   * Applied to: all card components, input fields, modal borders
   */
  .fluent-border {
    @apply border border-border/30;
  }
}

/**
 * WINDOWS 11 COLOR SYSTEM
 * 
 * LIGHT MODE - Inspired by Windows 11's "Light" theme:
 * - Background: #f3f3f3 (light neutral gray, matching Windows wallpaper base)
 * - Cards: #ffffff (pure white with subtle shadow for depth)
 * - Primary: #0067c0 (iconic Windows 11 blue, signifies interactivity)
 * - Borders: #e5e5e5 (very subtle gray, barely visible on light background)
 * - Text: #1a1a1a (near-black for maximum readability)
 * 
 * DARK MODE - Inspired by Windows 11's "Dark" theme:
 * - Background: #0d0d0d (deep charcoal, similar to Windows 11 dark wallpaper)
 * - Cards: #1a1a1a (slightly lighter than background for layering effect)
 * - Primary: #4cc2ff (brightened Windows blue, optimized for dark backgrounds)
 * - Borders: #2d2d2d (subtle separation in dark space)
 * - Text: #f0f0f0 (very light gray for excellent contrast on dark)
 * 
 * WHY THESE COLORS:
 * 1. Color space is HSL (Hue, Saturation, Lightness) for easier dark mode adjustments
 * 2. Windows 11 blue (#0067c0) communicates "actionable" - links, buttons, focus states
 * 3. Light backgrounds very close to white (#f3f3f3) reduce eye strain
 * 4. Dark backgrounds dark enough (#0d0d0d) for OLED displays while maintaining hierarchy
 * 5. Accent colors avoid neon/oversaturation - true to Windows 11 design language
 */
@layer base {
  :root {
    /* LIGHT MODE - Primary Color Palette */
    /* Background colors define the page/surface hierarchy */
    --background: 213 27% 96.5%; /* #f3f3f3 - Light neutral gray, slightly warm */
    --foreground: 213 10% 6.3%; /* #1a1a1a - Near-black text for maximum contrast */

    /* Card colors for elevated/contained surfaces */
    --card: 0 0% 100%; /* #ffffff - Pure white cards on light background */
    --card-foreground: 213 10% 6.3%; /* #1a1a1a - Dark text on white cards */

    /* Popover/Dropdown styling (tooltips, menus, dropdowns) */
    --popover: 0 0% 100%; /* #ffffff - White popover background */
    --popover-foreground: 213 10% 6.3%; /* #1a1a1a - Dark text in popovers */

    /* Primary accent - Windows 11 iconic blue for CTAs, links, focus states */
    --primary: 205 100% 37.5%; /* #0067c0 - Windows 11 Official Blue (signature color) */
    --primary-foreground: 0 0% 100%; /* #ffffff - White text on blue background */

    /* Secondary colors for less prominent actions */
    --secondary: 213 25% 90%; /* #ededed - Light gray for secondary buttons */
    --secondary-foreground: 213 10% 6.3%; /* #1a1a1a - Dark text on light secondary */

    /* Muted colors for disabled, inactive, or de-emphasized content */
    --muted: 213 20% 80%; /* #d0d0d0 - Muted light gray for placeholders */
    --muted-foreground: 215 8% 40%; /* #666666 - Muted gray text for secondary info */

    /* Accent colors for highlights, badges, decorative elements */
    --accent: 205 100% 37.5%; /* #0067c0 - Same as primary for consistency */
    --accent-foreground: 0 0% 100%; /* #ffffff - White text on accent backgrounds */

    /* Destructive colors for delete/danger actions */
    --destructive: 0 84.2% 60.2%; /* Red-orange for warning/error states */
    --destructive-foreground: 0 0% 98%; /* Light text on destructive backgrounds */

    /* Input field styling */
    --border: 213 25% 92%; /* #e5e5e5 - Very subtle light gray border */
    --input: 213 25% 95%; /* #f0f0f0 - Input field background (slightly darker than page bg) */
    --ring: 205 100% 37.5%; /* #0067c0 - Blue focus ring for keyboard navigation */

    /* Chart/Data visualization colors */
    --chart-1: 12 76% 61%; /* Warm accent for charts */
    --chart-2: 173 58% 39%; /* Teal for data diversity */
    --chart-3: 197 37% 24%; /* Deep blue for visual variety */
    --chart-4: 43 74% 66%; /* Yellow for emphasis */
    --chart-5: 27 87% 67%; /* Orange for final accent */

    /* Border radius - Windows 11 uses moderate rounding (8px) for modern look */
    --radius: 0.5rem; /* 8px - Subtle rounding, not extreme */
  }

  /**
   * DARK MODE - Windows 11 Dark Theme Implementation
   * 
   * All colors are inverted and adjusted for readability on dark backgrounds.
   * Saturation is increased for accents on dark backgrounds (they appear duller otherwise).
   */
  .dark {
    /* Dark mode backgrounds - deep space for OLED efficiency and reduce eye strain */
    --background: 0 0% 5.1%; /* #0d0d0d - Deep charcoal, almost black */
    --foreground: 213 15% 94%; /* #f0f0f0 - Very light gray text for high contrast */

    /* Card colors elevated above background */
    --card: 0 0% 10.2%; /* #1a1a1a - Slightly lighter than background for depth */
    --card-foreground: 213 15% 94%; /* #f0f0f0 - Light text on dark cards */

    /* Popover/dropdown styling on dark */
    --popover: 0 0% 10.2%; /* #1a1a1a - Dark popover background */
    --popover-foreground: 213 15% 94%; /* #f0f0f0 - Light text in dark popover */

    /* Primary accent - brightened Windows blue for visibility on dark */
    --primary: 199 89% 48%; /* #4cc2ff - Brightened Windows blue, high visibility */
    --primary-foreground: 0 0% 5.1%; /* #0d0d0d - Dark text on light blue (for buttons) */

    /* Secondary colors on dark background */
    --secondary: 0 0% 20%; /* #333333 - Dark gray for secondary elements */
    --secondary-foreground: 213 15% 94%; /* #f0f0f0 - Light text on dark secondary */

    /* Muted elements on dark */
    --muted: 0 0% 25%; /* #404040 - Muted dark gray for inactive elements */
    --muted-foreground: 213 10% 60%; /* #999999 - Muted light gray text on dark */

    /* Accent on dark mode */
    --accent: 199 89% 48%; /* #4cc2ff - Bright blue for visibility */
    --accent-foreground: 0 0% 5.1%; /* #0d0d0d - Dark text on accent backgrounds */

    /* Destructive red adjusted for dark theme */
    --destructive: 0 62.8% 50.6%; /* #ff5450 - Brighter red for dark visibility */
    --destructive-foreground: 0 0% 98%; /* Light text on red backgrounds */

    /* Input and border styling on dark */
    --border: 0 0% 20%; /* #333333 - Subtle dark gray border */
    --input: 0 0% 12%; /* #1f1f1f - Input background, slightly lighter than cards */
    --ring: 199 89% 48%; /* #4cc2ff - Blue focus ring visible on dark */

    /* Chart colors adjusted for dark background visibility */
    --chart-1: 220 70% 50%; /* Brightened blue for dark charts */
    --chart-2: 160 60% 45%; /* Brightened teal */
    --chart-3: 30 80% 55%; /* Brightened orange for visibility */
    --chart-4: 280 65% 60%; /* Brightened purple */
    --chart-5: 340 75% 55%; /* Brightened rose/pink */
  }
}

/**
 * GLOBAL BASE STYLES
 * Applied to all elements and the body tag
 * 
 * WHY:
 * - Border color inherits from CSS custom property for consistency
 * - Text antialiasing uses system fonts for crisp rendering (especially important on Windows)
 * - No font-smoothing override - let system render naturally
 * - Body applies background and foreground colors automatically
 */
@layer base {
  /**
   * UNIVERSAL BORDER APPLICATION
   * All elements get a border color that respects light/dark modes
   * This ensures consistency across all bordered UI elements
   * Border color is set to 30% opacity of --border for subtle effect
   */
  * {
    @apply border-border;
  }

  /**
   * BODY BACKGROUND AND TEXT COLOR
   * Applied globally so all text and backgrounds respect theme
   * Smooth transition happens via next-themes when switching modes
   * Why not use @apply directly: CSS custom properties need to be evaluated at runtime
   */
  body {
    @apply bg-background text-foreground;
    /* Ensure font smoothing for crisp text rendering on Windows 11 */
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  /**
   * INPUT AND FORM ELEMENTS
   * Style form controls to match Windows 11 aesthetic
   * Uses the --input color variable which is defined per theme
   */
  input,
  textarea,
  select {
    @apply bg-input border-border rounded-md;
  }

  /**
   * BUTTON DEFAULT STYLES
   * Ensures consistent button appearance across all buttons
   * Windows 11 buttons are typically rounded rectangles with subtle shadows
   */
  button {
    @apply transition-colors duration-200;
  }

  /**
   * SMOOTH COLOR TRANSITIONS ON THEME CHANGE
   * Applied to outline elements that change color when theme switches
   * Creates smooth transition instead of jarring color flip
   */
  [class*="outline"] {
    @apply transition-colors duration-300;
  }
}
